(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{171:function(t,a){function e(t){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}e.keys=function(){return[]},e.resolve=e,t.exports=e,e.id=171},217:function(t,a,e){"use strict";var s={},i=e(15),l=Object(i.a)(s,(function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"bg-white  min-h-full p-5 flex justify-center align-center"},[a("div",[a("img",{attrs:{src:"/images/undraw_no_data_qbuo.svg",width:"200px",alt:"empty state here"}}),this._v(" "),a("div",{staticClass:"mt-3 flex flex-col justify-center has-text-grey-light"},[this._t("default")],2)])])}),[],!1,null,null,null);a.a=l.exports},249:function(t,a,e){"use strict";(function(t){e(165),e(75);var s=e(166),i=e.n(s),l=e(369);a.a={components:{LeaveRequestHistoryList:l.a},data:()=>({leaveDetail:{},leaveId:!1}),created(){this.leaveId=this.$route.params.id,this.getLeaveDetails()},methods:{getLeaveDetails(){let t=this.$route.params.id,a=this;axios.get("/api/user/leave-requests/summary/"+t).then(t=>{a.leaveDetail=t.data})},getDateDiffence(a,e){let s=t(a),i=t(e);return s.diff(i,"days")},confirmApproval(){this.$buefy.dialog.confirm({title:"Leave Approve",confirmText:"Approve",message:"Are you sure want to approve for this leave?",onConfirm:()=>this.approveLeave()})},openRejectDialog(){this.$buefy.dialog.prompt({message:"Add Comment (Optional)",confirmText:"Proceed",inputAttrs:{placeholder:"e.g. Walter",required:!1},trapFocus:!0,onConfirm:t=>this.$buefy.toast.open("Your name is: "+t)})},approveLeave(){axios.post("/api/leave-request-approvals/"+this.leaveId).then(t=>{i.a.success(t.data.message)},t=>{})},rejectLeaveApproval(t){axios.post("/api/user/leave-approvals/accept/"+this.leaveId,{params:{comment:t}}).then(t=>{this.$buefy.toast.open("User confirmed")},t=>{})}},computed:{daysToEndDate(){return this.getDateDiffence(this.leaveDetail.endDate,new Date)},leaveBalance(){return this.leaveDetail.elligibleDays-this.leaveDetail.daysUsed},balanceAfterApproval(){return this.leaveBalance-this.leaveDetail.numberOfDays}},filters:{dateFormat:a=>t(a).format("DD-MM-YYYY")}}}).call(this,e(170))},250:function(t,a,e){"use strict";(function(t){var s=e(217);a.a={components:{EmptyState:s.a},data:()=>({leaveRequestHistory:[],loaded:!1}),created(){this.getLeaveHistory()},methods:{getLeaveHistory(){let t=this.$route.params.id;axios.get("/api/leave-request-history/"+t).then(t=>{this.leaveRequestHistory=t.data,this.loaded=!0})}},computed:{showEmptyState(){return this.loaded&&this.leaveRequestHistory.length<=0}},filters:{dateFormat:a=>t(a).format("DD-MM-YYYY")}}}).call(this,e(170))},369:function(t,a,e){"use strict";var s=e(250).a,i=e(15),l=Object(i.a)(s,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"bg-white"},[t.showEmptyState?e("EmptyState",[e("h4",{staticClass:"ml-10"},[t._v("Leave request has no history")])]):t._e(),t._v(" "),e("div",{staticClass:"is-size-7 "},t._l(t.leaveRequestHistory,(function(a){return e("div",{staticClass:"bg-white p-5 h-full w-full"},[e("div",{staticClass:"flex flex-col"},[e("h4",{staticClass:"pl-1"},[t._v(t._s(a.leaveStatuses))]),t._v(" "),e("span",[t._m(0,!0),e("span",[e("span",{staticClass:"has-text-primary"},[t._v("Performed On : ")]),t._v(t._s(t._f("dateFormat")(a.createdAt)))]),t._v(" "),t._m(1,!0),e("span",[e("span",{staticClass:"has-text-primary"},[t._v("Performed By: ")]),t._v(t._s(a.user.firstName))])])])])})),0)],1)}),[function(){var t=this.$createElement,a=this._self._c||t;return a("span",{staticClass:"icon"},[a("i",{staticClass:"fa fa-calendar"})])},function(){var t=this.$createElement,a=this._self._c||t;return a("span",{staticClass:"icon"},[a("i",{staticClass:"fa fa-user"})])}],!1,null,null,null);a.a=l.exports},474:function(t,a,e){"use strict";e.r(a);var s=e(249).a,i=e(15),l=Object(i.a)(s,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"is-size-7 h-full"},[e("div",{staticClass:"flex justify-end"},[e("router-link",{attrs:{tag:"a",to:"/leave-approvals"}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fa fa-angle-left"})]),t._v(" "),e("span",[t._v("Back To List")])])],1),t._v(" "),e("div",{staticClass:"relative bg-white mt-5 p-5"},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("h4",{staticClass:"has-text-black"},[t._v("Employee Name")]),t._v(" "),e("h4",{staticClass:"has-text-grey-light"},[t._v(t._s(t.leaveDetail.employee))])]),t._v(" "),e("div",{staticClass:"column"},[e("h4",{staticClass:"has-text-black"},[t._v("Date Submitted")]),t._v(" "),e("h4",{staticClass:"has-text-grey-light"},[t._v(t._s(t._f("dateFormat")(t.leaveDetail.createdAt)))])]),t._v(" "),e("div",{staticClass:"column"},[e("h4",{staticClass:"has-text-black"},[t._v("Leave Type")]),t._v(" "),e("h4",{staticClass:"has-text-grey-light"},[t._v(t._s(t.leaveDetail.leaveType))])]),t._v(" "),t._m(0)]),t._v(" "),e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("h4",{staticClass:"has-text-black"},[t._v("Start Date")]),t._v(" "),e("h4",{staticClass:"has-text-grey-light"},[t._v(t._s(t._f("dateFormat")(t.leaveDetail.startDate)))])]),t._v(" "),e("div",{staticClass:"column"},[e("h4",{staticClass:"has-text-black"},[t._v("End Date")]),t._v(" "),e("h4",{staticClass:"has-text-grey-light"},[t._v(t._s(t._f("dateFormat")(t.leaveDetail.endDate)))])]),t._v(" "),e("div",{staticClass:"column"},[e("h4",{staticClass:"has-text-black"},[t._v("Days To End Date")]),t._v(" "),e("h4",{staticClass:"has-text-grey-light"},[t._v(t._s(t.daysToEndDate))])]),t._v(" "),e("div",{staticClass:"column"},[e("h4",{staticClass:"has-text-black"},[t._v("Reason")]),t._v(" "),e("h4",{staticClass:"has-text-grey-light"},[t._v(t._s(t.leaveDetail.status))])])]),t._v(" "),e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("h4",{staticClass:"has-text-black"},[t._v("Leave Balance")]),t._v(" "),e("h4",{staticClass:"has-text-grey-light"},[t._v(t._s(t.leaveBalance)+" days")])]),t._v(" "),e("div",{staticClass:"column"},[e("h4",{staticClass:"has-text-black"},[t._v("Balance After Approval")]),t._v(" "),e("h4",{staticClass:"has-text-grey-light"},[t._v(t._s(t.balanceAfterApproval))])]),t._v(" "),e("div",{staticClass:"column"},[e("h4",{staticClass:"has-text-black"},[t._v("Leave Period in Days")]),t._v(" "),e("h4",{staticClass:"has-text-grey-light"},[t._v(t._s(t.leaveDetail.numberOfDays))])]),t._v(" "),t._m(1)]),t._v(" "),e("div",{staticClass:"flex justify-center"},[e("button",{staticClass:"button is-primary is-rounded is-small mr-5",on:{click:t.confirmApproval}},[e("span",[t._v("\n\t\t\t\t\t\tApprove\n                    ")])]),t._v(" "),e("button",{staticClass:"button is-rounded is-light is-small",on:{click:t.openRejectDialog}},[e("span",[t._v("\n\t\t\t\t\t\tReject\n                    ")])])])]),t._v(" "),t._m(2),t._v(" "),e("LeaveRequestHistoryList")],1)}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"column"},[a("h4",{staticClass:"has-text-black"},[this._v("Status")]),this._v(" "),a("h4",{staticClass:"has-text-grey-light"},[this._v("Status")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"column"},[a("h4",{staticClass:"has-text-black"},[this._v("Employee Department")]),this._v(" "),a("h4",{staticClass:"has-text-grey-light"},[this._v("Status")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"mt-1 bg-white"},[a("div",{staticClass:"tabs"},[a("ul",[a("li",{staticClass:"is-active"},[a("a",[this._v("Leave Request History")])])])])])}],!1,null,null,null);a.default=l.exports}}]);