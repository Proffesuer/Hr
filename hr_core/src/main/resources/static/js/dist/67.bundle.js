(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{190:function(t,a){function s(t){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}s.keys=function(){return[]},s.resolve=s,t.exports=s,s.id=190},244:function(t,a,s){"use strict";var e=function(){var t=this._self._c;return t("div",{staticClass:"bg-white min-h-full p-5 flex justify-center align-center"},[t("div",[t("img",{attrs:{src:"/images/undraw_no_data_qbuo.svg",width:"200px",alt:"empty state here"}}),this._v(" "),t("div",{staticClass:"mt-3 flex flex-col justify-center has-text-grey-light"},[this._t("default")],2)])])};e._withStripped=!0;var i={},l=s(14),r=Object(l.a)(i,e,[],!1,null,null,null);a.a=r.exports},259:function(t,a,s){"use strict";(function(t){s(182),s(81);var e=s(183),i=s.n(e),l=s(432);a.a={components:{LeaveRequestHistoryList:l.a},data:()=>({leaveDetail:{},leaveId:!1}),created(){this.leaveId=this.$route.params.id,this.getLeaveDetails()},methods:{getLeaveDetails(){let t=this.$route.params.id,a=this;axios.get("/api/user/leave-requests/summary/"+t).then(t=>{a.leaveDetail=t.data})},getDateDiffence(a,s){let e=t(a),i=t(s);return e.diff(i,"days")},confirmApproval(){this.$buefy.dialog.confirm({title:"Leave Approve",confirmText:"Approve",message:"Are you sure want to approve for this leave?",onConfirm:()=>this.approveLeave()})},openRejectDialog(){this.$buefy.dialog.prompt({message:"Add Comment (Optional)",confirmText:"Proceed",inputAttrs:{placeholder:"e.g. Walter",required:!1},trapFocus:!0,onConfirm:t=>this.$buefy.toast.open("Your name is: "+t)})},approveLeave(){axios.post("/api/leave-request-approvals/"+this.leaveId).then(t=>{i.a.success(t.data.message)},t=>{})},rejectLeaveApproval(t){axios.post("/api/user/leave-approvals/accept/"+this.leaveId,{params:{comment:t}}).then(t=>{this.$buefy.toast.open("User confirmed")},t=>{})}},computed:{daysToEndDate(){return this.getDateDiffence(this.leaveDetail.endDate,new Date)},leaveBalance(){return this.leaveDetail.elligibleDays-this.leaveDetail.daysUsed},balanceAfterApproval(){return this.leaveBalance-this.leaveDetail.numberOfDays}},filters:{dateFormat:a=>t(a).format("DD-MM-YYYY")}}}).call(this,s(189))},260:function(t,a,s){"use strict";(function(t){var e=s(244);a.a={components:{EmptyState:e.a},data:()=>({leaveRequestHistory:[],loaded:!1}),created(){this.getLeaveHistory()},methods:{getLeaveHistory(){let t=this.$route.params.id;axios.get("/api/leave-request-history/"+t).then(t=>{this.leaveRequestHistory=t.data,this.loaded=!0})}},computed:{showEmptyState(){return this.loaded&&this.leaveRequestHistory.length<=0}},filters:{dateFormat:a=>t(a).format("DD-MM-YYYY")}}}).call(this,s(189))},432:function(t,a,s){"use strict";var e=function(){var t=this,a=t._self._c;return a("div",{staticClass:"bg-white"},[t.showEmptyState?a("EmptyState",[a("h4",{staticClass:"ml-10"},[t._v("Leave request has no history")])]):t._e(),t._v(" "),a("div",{staticClass:"is-size-7"},t._l(t.leaveRequestHistory,(function(s){return a("div",{staticClass:"bg-white p-5 h-full w-full"},[a("div",{staticClass:"flex flex-col"},[a("h4",{staticClass:"pl-1"},[t._v(t._s(s.leaveStatuses))]),t._v(" "),a("span",[t._m(0,!0),a("span",[a("span",{staticClass:"has-text-primary"},[t._v("Performed On : ")]),t._v(t._s(t._f("dateFormat")(s.createdAt)))]),t._v(" "),t._m(1,!0),a("span",[a("span",{staticClass:"has-text-primary"},[t._v("Performed By: ")]),t._v(t._s(s.user.firstName))])])])])})),0)],1)};e._withStripped=!0;var i=s(260).a,l=s(14),r=Object(l.a)(i,e,[function(){var t=this._self._c;return t("span",{staticClass:"icon"},[t("i",{staticClass:"fa fa-calendar"})])},function(){var t=this._self._c;return t("span",{staticClass:"icon"},[t("i",{staticClass:"fa fa-user"})])}],!1,null,null,null);a.a=r.exports},548:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t._self._c;return a("div",{staticClass:"is-size-7 h-full"},[a("div",{staticClass:"flex justify-end"},[a("router-link",{attrs:{tag:"a",to:"/leave-approvals"}},[a("span",{staticClass:"icon"},[a("i",{staticClass:"fa fa-angle-left"})]),t._v(" "),a("span",[t._v("Back To List")])])],1),t._v(" "),a("div",{staticClass:"relative bg-white mt-5 p-5"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},[a("h4",{staticClass:"has-text-black"},[t._v("Employee Name")]),t._v(" "),a("h4",{staticClass:"has-text-grey-light"},[t._v(t._s(t.leaveDetail.employee))])]),t._v(" "),a("div",{staticClass:"column"},[a("h4",{staticClass:"has-text-black"},[t._v("Date Submitted")]),t._v(" "),a("h4",{staticClass:"has-text-grey-light"},[t._v(t._s(t._f("dateFormat")(t.leaveDetail.createdAt)))])]),t._v(" "),a("div",{staticClass:"column"},[a("h4",{staticClass:"has-text-black"},[t._v("Leave Type")]),t._v(" "),a("h4",{staticClass:"has-text-grey-light"},[t._v(t._s(t.leaveDetail.leaveType))])]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},[a("h4",{staticClass:"has-text-black"},[t._v("Start Date")]),t._v(" "),a("h4",{staticClass:"has-text-grey-light"},[t._v(t._s(t._f("dateFormat")(t.leaveDetail.startDate)))])]),t._v(" "),a("div",{staticClass:"column"},[a("h4",{staticClass:"has-text-black"},[t._v("End Date")]),t._v(" "),a("h4",{staticClass:"has-text-grey-light"},[t._v(t._s(t._f("dateFormat")(t.leaveDetail.endDate)))])]),t._v(" "),a("div",{staticClass:"column"},[a("h4",{staticClass:"has-text-black"},[t._v("Days To End Date")]),t._v(" "),a("h4",{staticClass:"has-text-grey-light"},[t._v(t._s(t.daysToEndDate))])]),t._v(" "),a("div",{staticClass:"column"},[a("h4",{staticClass:"has-text-black"},[t._v("Reason")]),t._v(" "),a("h4",{staticClass:"has-text-grey-light"},[t._v(t._s(t.leaveDetail.status))])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},[a("h4",{staticClass:"has-text-black"},[t._v("Leave Balance")]),t._v(" "),a("h4",{staticClass:"has-text-grey-light"},[t._v(t._s(t.leaveBalance)+" days")])]),t._v(" "),a("div",{staticClass:"column"},[a("h4",{staticClass:"has-text-black"},[t._v("Balance After Approval")]),t._v(" "),a("h4",{staticClass:"has-text-grey-light"},[t._v(t._s(t.balanceAfterApproval))])]),t._v(" "),a("div",{staticClass:"column"},[a("h4",{staticClass:"has-text-black"},[t._v("Leave Period in Days")]),t._v(" "),a("h4",{staticClass:"has-text-grey-light"},[t._v(t._s(t.leaveDetail.numberOfDays))])]),t._v(" "),t._m(1)]),t._v(" "),a("div",{staticClass:"flex justify-center"},[a("button",{staticClass:"button is-primary is-rounded is-small mr-5",on:{click:t.confirmApproval}},[a("span",[t._v("\n\t\t\t\t\t\tApprove\n                    ")])]),t._v(" "),a("button",{staticClass:"button is-rounded is-light is-small",on:{click:t.openRejectDialog}},[a("span",[t._v("\n\t\t\t\t\t\tReject\n                    ")])])])]),t._v(" "),t._m(2),t._v(" "),a("LeaveRequestHistoryList")],1)};e._withStripped=!0;var i=s(259).a,l=s(14),r=Object(l.a)(i,e,[function(){var t=this._self._c;return t("div",{staticClass:"column"},[t("h4",{staticClass:"has-text-black"},[this._v("Status")]),this._v(" "),t("h4",{staticClass:"has-text-grey-light"},[this._v("Status")])])},function(){var t=this._self._c;return t("div",{staticClass:"column"},[t("h4",{staticClass:"has-text-black"},[this._v("Employee Department")]),this._v(" "),t("h4",{staticClass:"has-text-grey-light"},[this._v("Status")])])},function(){var t=this._self._c;return t("div",{staticClass:"mt-1 bg-white"},[t("div",{staticClass:"tabs"},[t("ul",[t("li",{staticClass:"is-active"},[t("a",[this._v("Leave Request History")])])])])])}],!1,null,null,null);a.default=r.exports}}]);