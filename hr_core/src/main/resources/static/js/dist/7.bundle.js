(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{199:function(t,e,s){var a=s(204);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,s(23).default)("1f8d4a96",a,!0,{})},201:function(t,e,s){"use strict";var a={mixins:[s(202).a],props:{overflow:{required:!1,default:"initial"},width:{required:!1,default:640},showCloseButton:{type:Boolean,default:!0}},created(){},mounted(){this.openModal(),document.body.classList.add("modal-open")},beforeDestroy(){document.body.classList.remove("modal-open")}},o=(s(203),s(15)),l=Object(o.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-wrapper"},[s("div",{ref:"modal",staticClass:"modal"},[s("div",{ref:"modalContent",staticClass:"modal-content",style:{"max-width":t.width+"px",overflow:t.overflow}},[s("div",{staticClass:"box"},[t._t("modal-content")],2)]),t._v(" "),t.showCloseButton?[s("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:function(e){return e.stopPropagation(),t.closeModal(e)}}})]:t._e()],2)])}),[],!1,null,"2fb1f790",null);e.a=l.exports},202:function(t,e,s){"use strict";(function(t){e.a={methods:{closeModal(){t(this.$refs.modalContent).toggleClass("scaleIn"),t(this.$refs.modalClose).toggleClass("is-hidden"),t(".modal.is-active").removeClass("is-active"),this.$emit("modalClosed")},openModal(){t(this.$refs.modal).toggleClass("is-active")}}}}).call(this,s(164))},203:function(t,e,s){"use strict";var a=s(199);s.n(a).a},204:function(t,e,s){(t.exports=s(22)(!1)).push([t.i,".modal[data-v-2fb1f790]{overflow-y:auto;position:fixed;left:0;right:0;top:0;width:100%;height:100%;background-color:rgba(10,10,10,0.86)}.modal .modal-content[data-v-2fb1f790]{overflow:visible}\n",""])},241:function(t,e,s){var a=s(329);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,s(23).default)("64fa4630",a,!0,{})},242:function(t,e,s){var a=s(331);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,s(23).default)("36db0e43",a,!0,{})},328:function(t,e,s){"use strict";var a=s(241);s.n(a).a},329:function(t,e,s){(t.exports=s(22)(!1)).push([t.i,".is-fullwidth[data-v-0c271eb7] .upload-draggable{min-width:100%}.is-fullwidth[data-v-0c271eb7] label{min-width:100%}\n",""])},330:function(t,e,s){"use strict";var a=s(242);s.n(a).a},331:function(t,e,s){(t.exports=s(22)(!1)).push([t.i,".file-management[data-v-d0532cba]{margin-top:0.4rem}\n",""])},376:function(t,e,s){"use strict";s.r(e);s(165),s(75);var a=s(166),o=s.n(a),l=s(201),i=s(35),n={mixins:[i.a],components:{ModalTemplate:l.a},props:{parentId:{default:null}},data:()=>({loading:!1,folder:{name:"",type:"FOLDER"}}),methods:{createFolder(){this.folder.parentId=this.parentId,axios.post("/api/files",this.folder).then(t=>{o.a.success("folder created"),this.$emit("createSuccess")},t=>{})}},computed:{disableSubmitButton:()=>!1}},r=s(15),d=Object(r.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ModalTemplate",{on:{modalClosed:function(e){return t.$emit("modalClosed")}}},[s("div",{attrs:{slot:"modal-content"},slot:"modal-content"},[s("form",[s("div",{staticClass:"has-text-centered m-3"},[s("h1",{staticClass:"has-text-black"},[s("b",[t._v("New Folder")])])]),t._v(" "),s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Name"),s("span",[s("sup",[t._v("*")])])]),t._v(" "),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.folder.name,expression:"folder.name"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.folder.name},on:{input:[function(e){e.target.composing||t.$set(t.folder,"name",e.target.value)},function(e){return t.clearFieldError("name")}]}}),t._v(" "),t.errors.name?s("span",{staticClass:"mb-2 has-text-danger"},[t._v("\n\t\t\t\t\t\t"+t._s(t.errors.name[0])+"\n\t\t\t\t\t")]):t._e()])]),t._v(" "),s("div",{staticClass:"flex justify-center m-3"},[s("button",{staticClass:"button  is-rounded",class:{"is-loading":t.loading},attrs:{disabled:t.disableSubmitButton,type:"submit"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.createFolder(e)}}},[t._v("Submit\n          ")])])])])])}),[],!1,null,null,null).exports,c={components:{ModalTemplate:l.a},mixins:[i.a],data:()=>({loading:!1,dropFiles:{},file:{name:"",description:""}}),methods:{createFile(){let t=this.createFormData(this.file);this.axios.post("/api/files",t).then(t=>{})}},computed:{disableSubmitButton:()=>!1}},u=(s(328),{components:{CreateFolderForm:d,FileCreateForm:Object(r.a)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ModalTemplate",{on:{modalClosed:function(e){return t.$emit("modalClosed")}}},[s("div",{attrs:{slot:"modal-content"},slot:"modal-content"},[s("form",[s("div",{staticClass:"has-text-centered m-3"},[s("h1",{staticClass:"has-text-black"},[s("b",[t._v("New File")])])]),t._v(" "),s("b-field",{staticClass:"is-fullwidth"},[s("b-upload",{staticClass:"file-upload is-fullwidth",attrs:{multiple:"","drag-drop":""},model:{value:t.dropFiles,callback:function(e){t.dropFiles=e},expression:"dropFiles"}},[s("section",{staticClass:"section"},[s("div",{staticClass:"content has-text-centered"},[s("p",[s("b-icon",{attrs:{icon:"upload",size:"is-large"}})],1),t._v(" "),s("p",[t._v("Drop your files here or click to upload")])])])])],1),t._v(" "),s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Description")]),t._v(" "),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.file.name,expression:"file.name"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.file.name},on:{input:[function(e){e.target.composing||t.$set(t.file,"name",e.target.value)},function(e){return t.clearFieldError("name")}]}}),t._v(" "),t.errors.name?s("span",{staticClass:"mb-2 has-text-danger"},[t._v("\n\t\t\t\t\t\t"+t._s(t.errors.name[0])+"\n\t\t\t\t\t")]):t._e()])]),t._v(" "),s("div",{staticClass:"flex justify-center m-3"},[s("button",{staticClass:"button  is-rounded",class:{"is-loading":t.loading},attrs:{disabled:t.disableSubmitButton,type:"submit"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.createFile(e)}}},[t._v("Submit\n          ")])])],1)])])}),[],!1,null,"0c271eb7",null).exports},data:()=>({currentFolderId:null,showCreateFolderForm:!1,showFileCreateForm:!1,files:[]}),created(){this.getFiles()},methods:{getFiles(){return axios.get("/api/files/",{params:{parentId:this.currentFolderId}}).then(t=>{this.files=t.data})},getFileType:t=>t.type.toLowerCase(),refreshFiles(){this.showCreateFolderForm=!1,this.getFiles()},changeParentFolder(t){if("FOLDER"==t.type){let e=this;this.currentFolderId=t.id,this.$nextTick(()=>{e.getFiles()})}}}}),m=(s(330),Object(r.a)(u,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"file-management"},[s("div",{staticClass:"flex justify-end pb-2"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("button",{staticClass:"button is-rounded",on:{click:function(e){t.showFileCreateForm=!0}}},[t._m(0),t._v(" "),s("span",[t._v("Upload File")])]),t._v(" "),s("button",{staticClass:"button is-rounded",on:{click:function(e){t.showCreateFolderForm=!0}}},[t._m(1),t._v(" "),s("span",[t._v("Create Folder")])]),t._v(" "),t._m(2)])])]),t._v(" "),s("table",{staticClass:"table is-striped is-hoverable is-fullwidth"},[t._m(3),t._v(" "),s("tbody",t._l(t.files,(function(e){return s("tr",[s("td",{on:{click:function(s){return s.stopPropagation(),t.changeParentFolder(e)}}},[s("i",{staticClass:"fa  mr-2",class:"fa-"+t.getFileType(e)+"-o"}),t._v(t._s(e.name)+"\n        ")]),t._v(" "),s("td",[t._v(t._s(e.size))]),t._v(" "),s("td",[t._v(t._s(e.createBy))]),t._v(" "),s("td",[t._v(t._s(e.createdAt))]),t._v(" "),s("td",[t._v(t._s(e.updatedAt))])])})),0)]),t._v(" "),t.showCreateFolderForm?s("CreateFolderForm",{attrs:{parentId:t.currentFolderId},on:{createSuccess:t.refreshFiles,modalClosed:function(e){t.showCreateFolderForm=!1}}}):t._e(),t._v(" "),t.showFileCreateForm?s("FileCreateForm",{on:{modalClosed:function(e){t.showFileCreateForm=!1}}}):t._e()],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fa fa-upload"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fa fa-folder-open"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"button is-rounded"},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fa fa-trash"})]),this._v(" "),e("span",[this._v("\n\t\t\t\t\t\tDelete\n\t\t\t\t\t")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",[t._v("Name")]),t._v(" "),s("th",[t._v("Size")]),t._v(" "),s("th",[t._v("Created By")]),t._v(" "),s("th",[t._v("Created On")]),t._v(" "),s("th",[t._v("Modified On")])])}],!1,null,"d0532cba",null));e.default=m.exports}}]);