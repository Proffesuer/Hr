(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{171:function(t,e){function a(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}a.keys=function(){return[]},a.resolve=a,t.exports=a,a.id=171},220:function(t,e,a){var s=a(293);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a(23).default)("55b7466d",s,!0,{})},291:function(t,e,a){"use strict";(function(t){var s=a(192);const i=a(193).Stomp;e.a={formatToCurrency:function(t){return t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")},formattedTime:function(){return t(value).format("LT")},formattedDate:function(){return t(value).format("LLL")},sockJsConnection:function(){let t=new s("/web-chat");return i.over(t)},registerServiceWorker:()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then((function(t){console.log("ServiceWorker registration successful with scope: ",t.scope)}),(function(t){console.log("ServiceWorker registration failed: ",t)}))},unregisterServiceWorker:function(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(t=>{t.unregister()})}}}).call(this,a(170))},292:function(t,e,a){"use strict";var s=a(220);a.n(s).a},293:function(t,e,a){(t.exports=a(22)(!1)).push([t.i,".navbar-item .profile-image[data-v-2875c36e]{height:36px;width:36px;max-height:36px}.toggle-mobile-nav[data-v-2875c36e]{background-color:transparent;border:0px;padding:6px 16px;margin:0 0 0 -15px;height:46px}.menu-wrapper[data-v-2875c36e]{overflow-y:scroll;position:relative;height:100%;margin-top:2rem}.side-menu-portal-target[data-v-2875c36e]{display:revert}\n",""])},379:function(t,e,a){"use strict";a.r(e);a(165),a(75);var s=a(166),i=a.n(s),n=a(172),r=a.n(n),o={data:()=>({csrfToken:null}),created(){this.csrfToken=document.querySelector("meta[name='_csrf']").getAttribute("content")},methods:{logout(){this.$refs.logoutForm.submit()}}},c=a(15),l=Object(c.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("b-tooltip",{attrs:{label:"logout",type:"is-dark",position:"is-left"}},[e("form",{ref:"logoutForm",attrs:{method:"post",action:"/logout"}},[e("input",{attrs:{type:"hidden",name:"_csrf"},domProps:{value:this.csrfToken}}),this._v(" "),e("i",{staticClass:"fa fa-sign-out fa-2x",on:{click:this.logout}})])])}),[],!1,null,null,null).exports,u=a(24),v=a(291);function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){r()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}let b;var m={props:{user:{}},components:{PasswordResetForm:()=>Promise.all([a.e(0),a.e(76)]).then(a.bind(null,470)),NotificationDropDown:()=>Promise.all([a.e(0),a.e(34)]).then(a.bind(null,417)),LogoutForm:l},data:()=>({showNotifications:!1,isFullPage:!0,showChangePassword:!1,loading:!1}),computed:f({},Object(u.c)(["authenticatedUser"])),methods:f(f({},Object(u.b)(["setUser"])),{},{hideNotifications(){this.showNotifications=!1},handleSockJsSubscriptions(t){let e=this;t.connect({},(function(e){t.subscribe("/user/queue/notifications",(function(t){JSON.parse(t.body);i.a.success(t.body)})),t.subscribe("/user/topic/notifications",(function(t){i.a.info(t.body)})),t.subscribe("/swat-chat/user-notifications-me",(function(t){i.a.info(t.body)}))}),(function(){window.setTimeout((function(){let t=v.a.sockJsConnection();e.handleSockJsSubscriptions(t)}),2e3)}))}}),created(){let t=this;v.a.registerServiceWorker(),firebaseUtil.askForPermissionToReceiveNotifications().then(t=>{console.log("Firebase subscription token is dashboard",t),t&&firebaseUtil.subscribeToFirebaseMessages(t)});try{let e=v.a.sockJsConnection();t.handleSockJsSubscriptions(e)}catch(t){}this.setUser(JSON.parse(this.user))},directives:{closable:{bind(t,e,a){b=s=>{s.stopPropagation();const{handler:i,exclude:n}=e.value;let r=!1;n.forEach(t=>{if(!r){const e=a.context.$refs[t];r=e.contains(s.target)}}),t.contains(s.target)||r||a.context[i]()},document.addEventListener("click",b),document.addEventListener("touchstart",b)},unbind(){document.removeEventListener("click",b),document.removeEventListener("touchstart",b)}}}},h=(a(292),Object(c.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"navbar is-fixed-top is-primary",attrs:{role:"navigation","aria-label":"main navigation"}},[t._m(0),t._v(" "),a("div",{staticClass:"navbar-menu",attrs:{id:"navbarBasicExample"}},[t._m(1),t._v(" "),a("div",{staticClass:"navbar-end"},[a("a",{ref:"notification-toggle",staticClass:"navbar-item is-hoverable is-relative",on:{click:function(e){t.showNotifications=!0}}},[a("i",{staticClass:"fa fa-bell"}),t._v(" "),t.showNotifications?a("NotificationDropDown",{directives:[{name:"closable",rawName:"v-closable",value:{exclude:["notification-toggle"],handler:"hideNotifications"},expression:"{\n  exclude: ['notification-toggle'],\n  handler: 'hideNotifications'\n}"}]}):t._e()],1),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"navbar-item"},[a("LogoutForm")],1),t._v(" "),a("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[t._m(3),t._v(" "),a("div",{staticClass:"navbar-dropdown is-right"},[a("a",{staticClass:"navbar-item"},[a("article",{staticClass:"media"},[t._m(4),t._v(" "),a("div",{staticClass:"media-content"},[a("div",{staticClass:"content"},[a("p",[a("strong",[t._v(t._s(t.authenticatedUser.fullName))])])])])])]),t._v(" "),a("router-link",{staticClass:"navbar-item",attrs:{to:"/profile"}},[t._v("\n              Profile\n            ")]),t._v(" "),a("router-link",{staticClass:"navbar-item",attrs:{to:"/settings"}},[t._v("\n              Settings\n            ")]),t._v(" "),a("a",{staticClass:"navbar-item",on:{click:function(e){t.showChangePassword=!0}}},[t._v("\n              Change Password\n            ")]),t._v(" "),a("a",{staticClass:"navbar-item"},[t._v("\n              Logout\n            ")])],1)])])])]),t._v(" "),t.showChangePassword?a("PasswordResetForm",{on:{close:function(e){t.showChangePassword=!1}}}):t._e(),t._v(" "),a("router-view")],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"navbar-brand"},[e("a",{staticClass:"navbar-item",attrs:{href:"https://bulma.io"}},[e("img",{attrs:{src:"https://bulma.io/images/bulma-logo.png",width:"112",height:"28"}})]),this._v(" "),e("a",{staticClass:"navbar-burger burger",attrs:{role:"button","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"}},[e("span",{attrs:{"aria-hidden":"true"}}),this._v(" "),e("span",{attrs:{"aria-hidden":"true"}}),this._v(" "),e("span",{attrs:{"aria-hidden":"true"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navbar-start"},[a("a",{staticClass:"navbar-item"},[t._v("\n          Home\n        ")]),t._v(" "),a("a",{staticClass:"navbar-item"},[t._v("\n          Documentation\n        ")]),t._v(" "),a("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[a("a",{staticClass:"navbar-link"},[t._v("\n            More\n          ")]),t._v(" "),a("div",{staticClass:"navbar-dropdown"},[a("a",{staticClass:"navbar-item"},[t._v("\n              About\n            ")]),t._v(" "),a("a",{staticClass:"navbar-item"},[t._v("\n              Jobs\n            ")]),t._v(" "),a("a",{staticClass:"navbar-item"},[t._v("\n              Contact\n            ")]),t._v(" "),a("hr",{staticClass:"navbar-divider"}),t._v(" "),a("a",{staticClass:"navbar-item"},[t._v("\n              Report an issue\n            ")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"navbar-item"},[e("i",{staticClass:"fa fa-envelope"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("figure",{staticClass:"image is-fullwidth navbar-link"},[e("img",{staticClass:"is-rounded profile-image",attrs:{src:"https://bulma.io/images/placeholders/128x128.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("figure",{staticClass:"media-left"},[e("p",{staticClass:"image is-32x32"},[e("img",{staticClass:"is-rounded",attrs:{src:"https://bulma.io/images/placeholders/128x128.png"}})])])}],!1,null,"2875c36e",null));e.default=h.exports}}]);